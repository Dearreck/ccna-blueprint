<!DOCTYPE html>
<html lang="es" data-bs-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Examen - CCNA Blueprint</title>

    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŽ“</text></svg>">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&family=Poppins:wght@500;600;700&display=swap"
        rel="stylesheet">
    <script src="../assets/js/theme-loader.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/theme.css">
    <link rel="stylesheet" href="./exam-simulator.css">
</head>

<body data-title="Simulador de Examen - CCNA Blueprint">

    <div id="navbar-placeholder"></div>

    <main class="container my-5">

        <div id="exam-setup-container">
            <div class="row">
                <div class="col-12 col-lg-10 offset-lg-1">
                    <div class="card shadow-sm border-0">
                        <div id="total-questions-badge" class="total-questions-badge">
                            <i class="fas fa-star"></i>
                            <span id="total-questions-count">--</span>
                        </div>

                        <div class="card-body p-4 p-md-5">

                            <h1 class="card-title text-center mb-4" data-i18n="exam_title">Simulador de Examen CCNA</h1>
                            <p class="text-center text-muted mb-4" data-i18n="exam_subtitle">Selecciona las categorÃ­as
                                que deseas practicar y elige un modo.</p>

                            <fieldset class="mb-4">
                                <legend class="h5" data-i18n="exam_mode_label">1. Elige el Modo</legend>
                                <div class="btn-group w-100" role="group" aria-label="Modo de examen">
                                    <input type="radio" class="btn-check" name="examMode" id="studyMode" value="study"
                                        checked>
                                    <label class="btn btn-outline-primary" for="studyMode">
                                        <i class="fas fa-book-open me-2"></i><span data-i18n="exam_mode_study">Modo
                                            Estudio</span>
                                    </label>

                                    <input type="radio" class="btn-check" name="examMode" id="examMode" value="exam">
                                    <label class="btn btn-outline-primary" for="examMode">
                                        <i class="fas fa-stopwatch me-2"></i><span data-i18n="exam_mode_exam">Modo
                                            Examen</span>
                                    </label>

                                    <input type="radio" class="btn-check" name="examMode" id="flashcardMode"
                                        value="flashcard">
                                    <label class="btn btn-outline-primary" for="flashcardMode">
                                        <i class="fas fa-layer-group me-2"></i><span
                                            data-i18n="exam_mode_flashcard">Modo Flashcard</span>
                                    </label>
                                </div>
                            </fieldset>

                            <fieldset class="mb-4">
                                <legend class="h5">2. Elige el Contenido</legend>
                                <ul class="nav nav-tabs nav-fill mb-3" id="content-selection-tabs" role="tablist">
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link active" id="category-tab-btn" data-bs-toggle="tab"
                                            data-bs-target="#category-pane" type="button" role="tab">
                                            <i class="fas fa-th-large me-2"></i>Por CategorÃ­a
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="topic-tab-btn" data-bs-toggle="tab"
                                            data-bs-target="#topic-pane" type="button" role="tab">
                                            <i class="fas fa-list-ul me-2"></i>Por Tema
                                        </button>
                                    </li>
                                </ul>

                                <div class="tab-content" id="contentSelectionTabContent">
                                    <div class="tab-pane fade show active" id="category-pane" role="tabpanel">
                                        <div class="d-flex justify-content-between align-items-center mb-2">
                                            <span class="text-muted small">Selecciona una o mÃ¡s categorÃ­as.</span>
                                            <div>
                                                <button type="button" class="btn btn-link btn-sm p-0 me-2"
                                                    id="select-all-categories" data-i18n="select_all">Todas</button>
                                                <button type="button" class="btn btn-link btn-sm p-0"
                                                    id="deselect-all-categories"
                                                    data-i18n="deselect_all">Ninguna</button>
                                            </div>
                                        </div>
                                        <div id="category-selection-container" class="row">
                                        </div>
                                    </div>

                                    <div class="tab-pane fade" id="topic-pane" role="tabpanel">
                                        <div class="accordion" id="topic-accordion">
                                        </div>
                                    </div>
                                </div>
                            </fieldset>

                            <fieldset class="mb-5" id="exam-options-fieldset">
                                <legend class="h5" data-i18n="exam_options_label">3. Opciones</legend>
                                <div class="row">
                                    <div class="col-md-6 mb-3" id="question-count-wrapper">
                                        <label for="question-count-select" class="form-label"
                                            data-i18n="exam_question_count_label">NÃºmero de Preguntas</label>
                                        <select class="form-select form-select-themed" id="question-count-select">
                                            <option value="10" data-i18n="q_count_10">10 preguntas</option>
                                            <option value="25" data-i18n="q_count_25">25 preguntas</option>
                                            <option value="50" data-i18n="q_count_50">50 preguntas</option>
                                            <option value="all" data-i18n="q_count_all">Todas las disponibles</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6 mb-3" id="time-limit-wrapper">
                                        <label for="time-limit-input" class="form-label"
                                            data-i18n="exam_time_limit">LÃ­mite de Tiempo (minutos)</label>
                                        <input type="number" class="form-control" id="time-limit-input"
                                            placeholder="Opcional (ej: 90)" min="1">
                                    </div>
                                </div>
                            </fieldset>

                            <div class="d-grid">
                                <button id="start-exam-btn" class="btn btn-primary btn-lg"><i
                                        class="fas fa-play-circle me-2"></i><span
                                        data-i18n="exam_start_button">Comenzar</span></button>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="exam-questions-container" class="d-none"></div>

        <div id="exam-results-container" class="d-none">
            <div class="row">
                <div class="col-12 col-lg-8 offset-lg-2">
                    <div class="card shadow-sm border-0 text-center">
                        <div class="card-body p-4 p-md-5">
                            <h1 id="results-title" class="card-title mb-3">Â¡Examen Finalizado!</h1>
                            <h2 id="results-score" class="display-4 fw-bold">--%</h2>
                            <p id="results-summary" class="lead text-muted">Has acertado X de Y preguntas.</p>

                            <div class="row my-4 text-center">
                                <div class="col-4">
                                    <div class="stat-box p-3 rounded bg-success-subtle">
                                        <h5 class="mb-0" id="results-correct">--</h5><small class="text-muted"
                                            data-i18n="results_correct">Correctas</small>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="stat-box p-3 rounded bg-danger-subtle">
                                        <h5 class="mb-0" id="results-incorrect">--</h5><small class="text-muted"
                                            data-i18n="results_incorrect">Incorrectas</small>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="stat-box p-3 rounded bg-secondary-subtle">
                                        <h5 class="mb-0" id="results-skipped">--</h5><small class="text-muted"
                                            data-i18n="results_skipped">Omitidas</small>
                                    </div>
                                </div>
                            </div>

                            <div class="d-grid gap-2 d-sm-flex justify-content-sm-center mt-5">
                                <button id="review-exam-btn" class="btn btn-primary btn-lg px-4 gap-3"
                                    data-i18n="btn_review">Revisar Examen</button>
                                <button id="restart-exam-btn" class="btn btn-outline-primary btn-lg px-4 gap-3"
                                    data-i18n="btn_restart">Volver a Intentar</button>
                                <a href="../" class="btn btn-outline-primary btn-lg px-4"
                                    data-i18n="btn_back_home">Volver al Inicio</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mt-5">
                <div class="col-12 col-lg-8 offset-lg-2">
                    <div class="accordion" id="performance-accordion">
                    </div>
                </div>
            </div>
        </div>

        <div id="exam-review-container" class="d-none"></div>

    </main>

    <div id="footer-placeholder"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <script type="module" src="../assets/js/main.js"></script>
    <script src="../assets/js/i18n.js"></script>
    <script type="module" src="./app.js"></script>


    <div id="modal-placeholder"></div>
</body>

</html>